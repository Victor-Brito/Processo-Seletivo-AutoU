<div class="email-processor">
    <div class="container">
      <header class="header">
        <h1 class="title">Processador de Emails</h1>
        <p class="subtitle">
            Processo Seletivo AutoU - Analise automaticamente seus emails e receba sugest√µes de resposta inteligentes
        </p>
      </header>
  
      <div class="main-content">
        <div class="method-selector">
          <button
            class="method-btn"
            [class.active]="inputMethod() === 'upload'"
            (click)="setInputMethod('upload')">
            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
            </svg>
            Upload de Arquivo
          </button>
          <button
            class="method-btn"
            [class.active]="inputMethod() === 'text'"
            (click)="setInputMethod('text')">
            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
            </svg>
            Inserir Texto
          </button>
        </div>
  
        <div class="input-section">
          <app-file-upload
            *ngIf="inputMethod() === 'upload'"
            (fileSelected)="onFileSelected($event)"
            [isProcessing]="isProcessing()"
            class="fade-in">
          </app-file-upload>
  
          <app-text-input
            *ngIf="inputMethod() === 'text'"
            (textSubmitted)="onTextSubmitted($event)"
            [isProcessing]="isProcessing()"
            class="fade-in">
          </app-text-input>
        </div>
  
        <app-loading-spinner
          *ngIf="isProcessing()"
          message="Analisando email...">
        </app-loading-spinner>
  
        <app-results-display
          *ngIf="analysisResult() && !isProcessing()"
          [result]="analysisResult()!"
          class="fade-in">
        </app-results-display>
  
        <div *ngIf="errorMessage()" class="error-message fade-in">
          <svg class="error-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          {{ errorMessage() }}
        </div>
      </div>
    </div>
  </div>